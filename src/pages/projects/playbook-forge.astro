---
import ProjectLayout from "../../layouts/ProjectLayout.astro";

const frontmatter = {
  title: "Playbook Forge: Incident Response Playbook Builder",
  status: "Complete",
  statusType: "complete",
  origin: "Portfolio Project",
  date: "2025.01",
  techStack: ["React", "FastAPI", "ReactFlow", "Python", "TypeScript", "Tailwind CSS"],
};

const stackComponents = [
  { name: "React + TypeScript", role: "Frontend Framework", purpose: "Component architecture for the playbook editor, step configuration panels, and workflow validation interface", color: "#61dafb" },
  { name: "ReactFlow", role: "Node Graph Editor", purpose: "Interactive node-based flowchart editor for building visual incident response workflows with drag-and-drop step connections", color: "#ff0072" },
  { name: "FastAPI", role: "Backend API", purpose: "Python backend handling playbook persistence, template management, MITRE ATT&CK integration, and export pipeline", color: "#009688" },
  { name: "Tailwind CSS", role: "Styling", purpose: "Consistent design system for the editor interface, step cards, and exported playbook documents", color: "#38bdf8" },
];

const highlights = [
  {
    category: "Visual Editor",
    title: "Node-Based Workflow Builder",
    scenario: "Writing IR playbooks as text documents makes it hard to visualize decision paths and parallel actions",
    solution: "Built a ReactFlow-based visual editor where analysts drag IR steps onto a canvas, connect them with conditional edges (success/failure/escalation), and configure each step with runbook details, responsible roles, and SLA timers",
    impact: "Visual workflow representation makes complex branching playbooks intuitive to build and review",
  },
  {
    category: "Integration",
    title: "MITRE ATT&CK Step Templates",
    scenario: "Building playbooks from scratch for every technique is repetitive and error-prone",
    solution: "Pre-built step templates mapped to ATT&CK tactics and techniques. Analysts select the relevant technique and get a starting workflow with recommended response steps, which they can then customize for their environment",
    impact: "Reduces playbook creation time by providing proven response patterns as starting points",
  },
  {
    category: "Export Pipeline",
    title: "Multi-Format Playbook Export",
    scenario: "Playbooks need to be shared as PDFs for management review, JSON for SOAR integration, and Markdown for wiki documentation",
    solution: "Built an export pipeline that converts the visual graph into structured documents. PDF output includes the flowchart as an SVG diagram. JSON output follows a schema compatible with common SOAR platforms. Markdown preserves the step hierarchy",
    impact: "One source of truth generates outputs for every stakeholder and system",
  },
  {
    category: "Validation",
    title: "Workflow Completeness Checker",
    scenario: "Incomplete playbooks with dead-end paths or missing escalation steps create gaps during real incidents",
    solution: "Implemented graph analysis that validates every path terminates properly, all decision nodes have both branches defined, and escalation steps include contact information and SLA timers",
    impact: "Catches gaps before playbooks are published, reducing risk of procedural failures during incidents",
  },
];

const skills = [
  { name: "ReactFlow", items: ["Custom node types", "Edge validation", "Layout algorithms", "Graph serialization"] },
  { name: "Full-Stack", items: ["React + FastAPI integration", "REST API design", "Template management", "File export pipeline"] },
  { name: "Security Operations", items: ["IR playbook methodology", "MITRE ATT&CK mapping", "SOAR integration patterns", "SLA management"] },
  { name: "Graph Analysis", items: ["Path validation", "Dead-end detection", "Cycle prevention", "Completeness scoring"] },
];
---

<ProjectLayout frontmatter={frontmatter}>
  <h2>// Overview</h2>
  <p>
    Playbook Forge is a visual incident response playbook builder. Instead of writing playbooks as static
    documents, analysts build them as interactive flowcharts using a node-based editor. Each step in the workflow
    includes runbook details, responsible roles, SLA timers, and conditional branching for success, failure, and
    escalation paths.
  </p>
  <p>
    The tool integrates with the MITRE ATT&CK framework to provide pre-built step templates for common techniques.
    Finished playbooks export to PDF (with embedded flowchart diagrams), JSON (for SOAR platform ingestion), and
    Markdown (for documentation wikis). A built-in validation engine checks for dead-end paths, missing escalation
    steps, and incomplete configurations before publishing.
  </p>

  <!-- GitHub Callout -->
  <div class="github-callout">
    <div class="github-content">
      <div class="github-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
        </svg>
      </div>
      <div class="github-text">
        <span class="github-label">Open Source</span>
        <p class="github-desc">This project is open source and available on GitHub</p>
      </div>
    </div>
    <div class="github-actions">
      <a href="https://github.com/solomonneas/playbook-forge" target="_blank" class="github-btn repo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
        </svg>
        <span>View Repository</span>
      </a>
      <a href="https://github.com/solomonneas/playbook-forge/commits" target="_blank" class="github-btn commits">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16">
          <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"/>
        </svg>
        <span>Commits</span>
      </a>
      <a href="https://github.com/solomonneas/playbook-forge/stargazers" target="_blank" class="github-btn star">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16">
          <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"/>
        </svg>
        <span>Star on GitHub</span>
      </a>
    </div>
  </div>

  <!-- Tech Stack -->
  <h2>// Tech Stack</h2>
  <p class="section-intro">Full-stack application centered on a ReactFlow visual editor:</p>
  <div class="stack-grid">
    {stackComponents.map((comp, i) => (
      <div class="stack-card" style={`--accent: ${comp.color}; --delay: ${i * 0.1}s`}>
        <div class="stack-header">
          <span class="stack-indicator"></span>
          <span class="stack-name">{comp.name}</span>
        </div>
        <div class="stack-role">{comp.role}</div>
        <p class="stack-purpose">{comp.purpose}</p>
      </div>
    ))}
  </div>

  <!-- Technical Highlights -->
  <h2>// Technical Highlights</h2>
  <div class="highlights-grid">
    {highlights.map((item, i) => (
      <div class="highlight-card" style={`--delay: ${i * 0.1}s`}>
        <div class="highlight-header">
          <span class="highlight-category">{item.category}</span>
          <span class="highlight-title">{item.title}</span>
        </div>
        <div class="highlight-body">
          <div class="highlight-row">
            <span class="row-label">Problem:</span>
            <span class="row-value">{item.scenario}</span>
          </div>
          <div class="highlight-row">
            <span class="row-label">Solution:</span>
            <span class="row-value">{item.solution}</span>
          </div>
          <div class="highlight-row impact">
            <span class="row-label">Result:</span>
            <span class="row-value">{item.impact}</span>
          </div>
        </div>
      </div>
    ))}
  </div>

  <!-- Skills -->
  <h2>// Skills Demonstrated</h2>
  <div class="skills-grid">
    {skills.map((skill) => (
      <div class="skill-card">
        <div class="skill-header">
          <span class="skill-name">{skill.name}</span>
        </div>
        <ul class="skill-items">
          {skill.items.map((item) => (
            <li>{item}</li>
          ))}
        </ul>
      </div>
    ))}
  </div>

  <!-- Status -->
  <h2>// Project Status</h2>
  <div class="status-block">
    <div class="status-indicator complete">
      <div class="status-pulse"></div>
      <span>Complete</span>
    </div>
    <ul class="status-list">
      <li><span class="check">&#10003;</span> Visual node-based playbook editor</li>
      <li><span class="check">&#10003;</span> MITRE ATT&CK step template library</li>
      <li><span class="check">&#10003;</span> Conditional branching (success/failure/escalation)</li>
      <li><span class="check">&#10003;</span> Multi-format export (PDF, JSON, Markdown)</li>
      <li><span class="check">&#10003;</span> Workflow validation and completeness checks</li>
      <li><span class="check">&#10003;</span> SLA timer configuration per step</li>
    </ul>
  </div>
</ProjectLayout>

<style>
  .section-intro { opacity: 0.85; margin-bottom: 1.5rem; }

  .stack-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .stack-card { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-left: 3px solid var(--accent); border-radius: 4px; padding: 1rem; animation: fadeSlideIn 0.5s ease-out both; animation-delay: var(--delay); }
  @keyframes fadeSlideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  .stack-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; }
  .stack-indicator { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; animation: pulse 2s ease-in-out infinite; }
  @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(0.8); } }
  .stack-name { font-family: "IBM Plex Mono", monospace; font-size: 1rem; font-weight: 600; }
  .stack-role { font-family: "IBM Plex Mono", monospace; font-size: 0.75rem; color: var(--accent); margin-bottom: 0.75rem; }
  .stack-purpose { font-size: 0.8rem; opacity: 0.75; margin: 0; line-height: 1.5; }

  .highlights-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .highlight-card { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-radius: 8px; overflow: hidden; animation: fadeSlideIn 0.5s ease-out both; animation-delay: var(--delay); }
  .highlight-header { display: flex; flex-direction: column; gap: 0.25rem; padding: 1rem; background: color-mix(in srgb, currentColor 3%, transparent); border-bottom: 1px solid color-mix(in srgb, currentColor 8%, transparent); }
  .highlight-category { font-family: "IBM Plex Mono", monospace; font-size: 0.65rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: #10b981; }
  .highlight-title { font-family: "IBM Plex Mono", monospace; font-size: 0.9rem; font-weight: 600; }
  .highlight-body { padding: 1rem; }
  .highlight-row { display: flex; flex-direction: column; gap: 0.25rem; margin-bottom: 0.75rem; }
  .highlight-row:last-child { margin-bottom: 0; }
  .highlight-row .row-label { font-family: "IBM Plex Mono", monospace; font-size: 0.7rem; font-weight: 600; color: #10b981; }
  .highlight-row .row-value { font-size: 0.8rem; opacity: 0.8; line-height: 1.5; }
  .highlight-row.impact .row-value { color: #10b981; font-weight: 500; opacity: 1; }

  .skills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .skill-card { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-radius: 6px; overflow: hidden; }
  .skill-header { padding: 0.75rem 1rem; background: color-mix(in srgb, currentColor 3%, transparent); border-bottom: 1px solid color-mix(in srgb, currentColor 8%, transparent); }
  .skill-name { font-family: "IBM Plex Mono", monospace; font-size: 0.85rem; font-weight: 600; }
  .skill-items { list-style: none; padding: 0.75rem 1rem; margin: 0; }
  .skill-items li { font-size: 0.75rem; padding: 0.3rem 0; padding-left: 1rem; position: relative; opacity: 0.75; }
  .skill-items li::before { content: ">"; position: absolute; left: 0; color: #10b981; font-family: "IBM Plex Mono", monospace; }

  .status-block { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; }
  .status-indicator { display: flex; align-items: center; gap: 0.75rem; font-family: "IBM Plex Mono", monospace; font-size: 0.9rem; font-weight: 500; margin-bottom: 1rem; }
  .status-indicator.complete .status-pulse { background: #10b981; box-shadow: 0 0 10px rgba(16, 185, 129, 0.5); }
  .status-pulse { width: 12px; height: 12px; border-radius: 50%; animation: pulse 2s ease-in-out infinite; }
  .status-list { list-style: none; padding: 0; margin: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 0.5rem; }
  .status-list li { display: flex; align-items: center; gap: 0.5rem; font-size: 0.8rem; padding: 0.5rem 0.75rem; background: color-mix(in srgb, currentColor 3%, transparent); border-radius: 4px; }
  .check { color: #10b981; font-weight: bold; }

  @media (max-width: 768px) { .highlights-grid, .stack-grid { grid-template-columns: 1fr; } }
</style>
