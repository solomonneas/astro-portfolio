---
import ProjectLayout from "../../layouts/ProjectLayout.astro";

const frontmatter = {
  title: "Intel Workbench: Analysis of Competing Hypotheses Tool",
  status: "Complete",
  statusType: "complete",
  origin: "Portfolio Project",
  date: "2025.01",
  techStack: ["React", "TypeScript", "Zustand", "Tailwind CSS", "Vite"],
};

const stackComponents = [
  { name: "React + TypeScript", role: "UI Framework", purpose: "Component-driven interface with strict typing for complex matrix state management and hypothesis tracking", color: "#61dafb" },
  { name: "Zustand", role: "State Management", purpose: "Lightweight store for managing hypothesis matrices, evidence chains, and consistency scores without boilerplate", color: "#443e38" },
  { name: "Tailwind CSS", role: "Styling", purpose: "Utility-first approach for building responsive matrix tables, evidence panels, and scoring visualizations", color: "#38bdf8" },
  { name: "Vite", role: "Build Tool", purpose: "Fast HMR during development with optimized production builds for single-page deployment", color: "#646cff" },
];

const highlights = [
  {
    category: "Methodology",
    title: "ACH Matrix Implementation",
    scenario: "Intelligence analysts need a structured way to evaluate competing hypotheses against available evidence",
    solution: "Built an interactive matrix where analysts rate each piece of evidence as consistent, inconsistent, or neutral against each hypothesis. Scores auto-calculate to surface the most defensible conclusion",
    impact: "Structured analytic technique reduces cognitive bias in threat assessments",
  },
  {
    category: "State Management",
    title: "Complex Matrix State with Zustand",
    scenario: "The ACH matrix involves dynamic rows (evidence) and columns (hypotheses) with cell-level ratings that drive aggregate scores",
    solution: "Used Zustand slices for hypotheses, evidence, and ratings as separate stores with computed selectors for consistency scores, sensitivity analysis, and matrix diagnostics",
    impact: "Clean state architecture handles dynamic matrix dimensions without re-render cascading",
  },
  {
    category: "UX Design",
    title: "Evidence Credibility Weighting",
    scenario: "Not all evidence carries equal weight. A confirmed IOC matters more than an unverified rumor",
    solution: "Added credibility and relevance sliders per evidence item that feed into weighted scoring. The matrix visually reflects weight through cell opacity and border intensity",
    impact: "Weighted scoring produces more nuanced results than binary consistent/inconsistent ratings",
  },
  {
    category: "Analysis",
    title: "Sensitivity Analysis View",
    scenario: "Analysts need to understand which pieces of evidence most influence the conclusion",
    solution: "Built a sensitivity panel that temporarily removes each evidence item and recalculates scores, highlighting which pieces of evidence are pivotal to the current leading hypothesis",
    impact: "Reveals analytical dependencies and helps identify where additional collection would be most valuable",
  },
];

const skills = [
  { name: "React Patterns", items: ["Complex form state", "Dynamic table rendering", "Computed selectors", "Controlled components"] },
  { name: "State Architecture", items: ["Zustand store slices", "Derived state patterns", "Optimistic updates", "Undo/redo stack"] },
  { name: "Intelligence Analysis", items: ["ACH methodology", "Cognitive bias mitigation", "Evidence weighting", "Sensitivity analysis"] },
  { name: "UI/UX", items: ["Interactive matrices", "Color-coded scoring", "Responsive tables", "Export to PDF/JSON"] },
];
---

<ProjectLayout frontmatter={frontmatter}>
  <h2>// Overview</h2>
  <p>
    Intel Workbench implements the Analysis of Competing Hypotheses (ACH) methodology as an interactive web
    application. ACH is a structured analytic technique developed by Richards Heuer at the CIA to help analysts
    overcome cognitive biases when evaluating multiple explanations for observed events.
  </p>
  <p>
    The tool lets analysts define hypotheses, add evidence items with credibility weights, rate each piece of
    evidence against each hypothesis, and automatically calculate consistency scores. The result is a data-driven
    approach to intelligence analysis that surfaces the most defensible conclusion while highlighting analytical
    gaps.
  </p>

  <!-- Tech Stack -->
  <h2>// Tech Stack</h2>
  <p class="section-intro">Frontend-only application with Zustand for complex matrix state:</p>
  <div class="stack-grid">
    {stackComponents.map((comp, i) => (
      <div class="stack-card" style={`--accent: ${comp.color}; --delay: ${i * 0.1}s`}>
        <div class="stack-header">
          <span class="stack-indicator"></span>
          <span class="stack-name">{comp.name}</span>
        </div>
        <div class="stack-role">{comp.role}</div>
        <p class="stack-purpose">{comp.purpose}</p>
      </div>
    ))}
  </div>

  <!-- Technical Highlights -->
  <h2>// Technical Highlights</h2>
  <div class="highlights-grid">
    {highlights.map((item, i) => (
      <div class="highlight-card" style={`--delay: ${i * 0.1}s`}>
        <div class="highlight-header">
          <span class="highlight-category">{item.category}</span>
          <span class="highlight-title">{item.title}</span>
        </div>
        <div class="highlight-body">
          <div class="highlight-row">
            <span class="row-label">Problem:</span>
            <span class="row-value">{item.scenario}</span>
          </div>
          <div class="highlight-row">
            <span class="row-label">Solution:</span>
            <span class="row-value">{item.solution}</span>
          </div>
          <div class="highlight-row impact">
            <span class="row-label">Result:</span>
            <span class="row-value">{item.impact}</span>
          </div>
        </div>
      </div>
    ))}
  </div>

  <!-- Skills -->
  <h2>// Skills Demonstrated</h2>
  <div class="skills-grid">
    {skills.map((skill) => (
      <div class="skill-card">
        <div class="skill-header">
          <span class="skill-name">{skill.name}</span>
        </div>
        <ul class="skill-items">
          {skill.items.map((item) => (
            <li>{item}</li>
          ))}
        </ul>
      </div>
    ))}
  </div>

  <!-- Status -->
  <h2>// Project Status</h2>
  <div class="status-block">
    <div class="status-indicator complete">
      <div class="status-pulse"></div>
      <span>Complete</span>
    </div>
    <ul class="status-list">
      <li><span class="check">&#10003;</span> Interactive ACH matrix with dynamic rows/columns</li>
      <li><span class="check">&#10003;</span> Evidence credibility and relevance weighting</li>
      <li><span class="check">&#10003;</span> Automated consistency scoring</li>
      <li><span class="check">&#10003;</span> Sensitivity analysis panel</li>
      <li><span class="check">&#10003;</span> Export to PDF and JSON formats</li>
      <li><span class="check">&#10003;</span> Undo/redo support for matrix edits</li>
    </ul>
  </div>
</ProjectLayout>

<style>
  .section-intro { opacity: 0.85; margin-bottom: 1.5rem; }

  .stack-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .stack-card { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-left: 3px solid var(--accent); border-radius: 4px; padding: 1rem; animation: fadeSlideIn 0.5s ease-out both; animation-delay: var(--delay); }
  @keyframes fadeSlideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  .stack-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; }
  .stack-indicator { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; animation: pulse 2s ease-in-out infinite; }
  @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(0.8); } }
  .stack-name { font-family: "IBM Plex Mono", monospace; font-size: 1rem; font-weight: 600; }
  .stack-role { font-family: "IBM Plex Mono", monospace; font-size: 0.75rem; color: var(--accent); margin-bottom: 0.75rem; }
  .stack-purpose { font-size: 0.8rem; opacity: 0.75; margin: 0; line-height: 1.5; }

  .highlights-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .highlight-card { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-radius: 8px; overflow: hidden; animation: fadeSlideIn 0.5s ease-out both; animation-delay: var(--delay); }
  .highlight-header { display: flex; flex-direction: column; gap: 0.25rem; padding: 1rem; background: color-mix(in srgb, currentColor 3%, transparent); border-bottom: 1px solid color-mix(in srgb, currentColor 8%, transparent); }
  .highlight-category { font-family: "IBM Plex Mono", monospace; font-size: 0.65rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: #10b981; }
  .highlight-title { font-family: "IBM Plex Mono", monospace; font-size: 0.9rem; font-weight: 600; }
  .highlight-body { padding: 1rem; }
  .highlight-row { display: flex; flex-direction: column; gap: 0.25rem; margin-bottom: 0.75rem; }
  .highlight-row:last-child { margin-bottom: 0; }
  .highlight-row .row-label { font-family: "IBM Plex Mono", monospace; font-size: 0.7rem; font-weight: 600; color: #10b981; }
  .highlight-row .row-value { font-size: 0.8rem; opacity: 0.8; line-height: 1.5; }
  .highlight-row.impact .row-value { color: #10b981; font-weight: 500; opacity: 1; }

  .skills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .skill-card { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-radius: 6px; overflow: hidden; }
  .skill-header { padding: 0.75rem 1rem; background: color-mix(in srgb, currentColor 3%, transparent); border-bottom: 1px solid color-mix(in srgb, currentColor 8%, transparent); }
  .skill-name { font-family: "IBM Plex Mono", monospace; font-size: 0.85rem; font-weight: 600; }
  .skill-items { list-style: none; padding: 0.75rem 1rem; margin: 0; }
  .skill-items li { font-size: 0.75rem; padding: 0.3rem 0; padding-left: 1rem; position: relative; opacity: 0.75; }
  .skill-items li::before { content: ">"; position: absolute; left: 0; color: #10b981; font-family: "IBM Plex Mono", monospace; }

  .status-block { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; }
  .status-indicator { display: flex; align-items: center; gap: 0.75rem; font-family: "IBM Plex Mono", monospace; font-size: 0.9rem; font-weight: 500; margin-bottom: 1rem; }
  .status-indicator.complete .status-pulse { background: #10b981; box-shadow: 0 0 10px rgba(16, 185, 129, 0.5); }
  .status-pulse { width: 12px; height: 12px; border-radius: 50%; animation: pulse 2s ease-in-out infinite; }
  .status-list { list-style: none; padding: 0; margin: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 0.5rem; }
  .status-list li { display: flex; align-items: center; gap: 0.5rem; font-size: 0.8rem; padding: 0.5rem 0.75rem; background: color-mix(in srgb, currentColor 3%, transparent); border-radius: 4px; }
  .check { color: #10b981; font-weight: bold; }

  @media (max-width: 768px) { .highlights-grid, .stack-grid { grid-template-columns: 1fr; } }
</style>
