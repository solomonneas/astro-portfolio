---
import ProjectLayout from "../../layouts/ProjectLayout.astro";

const frontmatter = {
  title: "FortiLogForge: Fortinet Log Analyzer",
  status: "Complete",
  statusType: "complete",
  origin: "Portfolio Project",
  date: "2025.01",
  techStack: ["React", "FastAPI", "Python", "TypeScript", "Docker", "Tailwind CSS", "Pandas"],
};

const stackComponents = [
  { name: "React + TypeScript", role: "Frontend Framework", purpose: "Interactive log viewer with filterable tables, timeline visualizations, and drill-down detail panels for individual log entries", color: "#61dafb" },
  { name: "FastAPI + Python", role: "Backend API", purpose: "Async log parsing engine with Pandas for statistical analysis, pattern detection, and aggregation of Fortinet log formats", color: "#009688" },
  { name: "Docker", role: "Deployment", purpose: "Containerized deployment with Docker Compose for consistent environments across development and production", color: "#2496ed" },
  { name: "Tailwind CSS", role: "Styling", purpose: "Dark-first interface matching security tooling conventions with responsive data tables and chart layouts", color: "#38bdf8" },
];

const highlights = [
  {
    category: "Log Parsing",
    title: "Multi-Format Fortinet Log Parser",
    scenario: "Fortinet devices produce logs in several formats (syslog, CSV, binary) with varying field schemas across FortiOS versions",
    solution: "Built a flexible parser that auto-detects log format, normalizes fields across FortiOS versions, and extracts structured data from traffic, event, and UTM log types. Handles both real-time syslog streams and uploaded log files",
    impact: "Single tool handles all Fortinet log formats without manual format selection",
  },
  {
    category: "Analysis",
    title: "Traffic Pattern Detection",
    scenario: "Manual log review misses subtle patterns in large datasets, like slow port scans or periodic beaconing",
    solution: "Implemented statistical analysis with Pandas for detecting anomalous traffic patterns: connection frequency analysis, destination diversity scoring, time-series periodicity detection, and geo-IP enrichment for source/destination mapping",
    impact: "Automated detection surfaces patterns that would take hours to find through manual review",
  },
  {
    category: "Visualization",
    title: "Interactive Timeline View",
    scenario: "Flat log tables make it difficult to understand the temporal relationship between events",
    solution: "Built a zoomable timeline that plots log events chronologically with severity-coded markers. Users can brush-select time ranges to filter the detail table, overlay multiple log types on the same timeline, and export selected time windows",
    impact: "Temporal visualization enables rapid incident timeline reconstruction",
  },
];

const skills = [
  { name: "Log Analysis", items: ["Fortinet log formats", "Syslog parsing", "Field normalization", "Format auto-detection"] },
  { name: "Data Processing", items: ["Pandas aggregation", "Statistical analysis", "Pattern detection", "Time-series analysis"] },
  { name: "Full-Stack", items: ["React + FastAPI", "File upload handling", "Streaming responses", "Docker deployment"] },
  { name: "Security Tooling", items: ["Traffic analysis", "Geo-IP enrichment", "Beaconing detection", "Timeline reconstruction"] },
];
---

<ProjectLayout frontmatter={frontmatter}>
  <h2>// Overview</h2>
  <p>
    FortiLogForge is a log analysis tool purpose-built for Fortinet firewall logs. It parses, normalizes, and
    analyzes traffic, event, and UTM logs from FortiGate devices, providing interactive visualizations and
    automated pattern detection. The tool handles multiple Fortinet log formats and normalizes field schemas
    across FortiOS versions.
  </p>
  <p>
    The analysis engine uses Pandas for statistical processing, detecting anomalous patterns like periodic
    beaconing, slow port scans, and unusual destination diversity. An interactive timeline view plots events
    chronologically, enabling rapid incident reconstruction. The entire application deploys via Docker Compose
    for consistent environments.
  </p>

  <!-- Tech Stack -->
  <h2>// Tech Stack</h2>
  <p class="section-intro">Full-stack log analysis platform with Python data processing:</p>
  <div class="stack-grid">
    {stackComponents.map((comp, i) => (
      <div class="stack-card" style={`--accent: ${comp.color}; --delay: ${i * 0.1}s`}>
        <div class="stack-header">
          <span class="stack-indicator"></span>
          <span class="stack-name">{comp.name}</span>
        </div>
        <div class="stack-role">{comp.role}</div>
        <p class="stack-purpose">{comp.purpose}</p>
      </div>
    ))}
  </div>

  <!-- Technical Highlights -->
  <h2>// Technical Highlights</h2>
  <div class="highlights-grid">
    {highlights.map((item, i) => (
      <div class="highlight-card" style={`--delay: ${i * 0.1}s`}>
        <div class="highlight-header">
          <span class="highlight-category">{item.category}</span>
          <span class="highlight-title">{item.title}</span>
        </div>
        <div class="highlight-body">
          <div class="highlight-row">
            <span class="row-label">Problem:</span>
            <span class="row-value">{item.scenario}</span>
          </div>
          <div class="highlight-row">
            <span class="row-label">Solution:</span>
            <span class="row-value">{item.solution}</span>
          </div>
          <div class="highlight-row impact">
            <span class="row-label">Result:</span>
            <span class="row-value">{item.impact}</span>
          </div>
        </div>
      </div>
    ))}
  </div>

  <!-- Skills -->
  <h2>// Skills Demonstrated</h2>
  <div class="skills-grid">
    {skills.map((skill) => (
      <div class="skill-card">
        <div class="skill-header">
          <span class="skill-name">{skill.name}</span>
        </div>
        <ul class="skill-items">
          {skill.items.map((item) => (
            <li>{item}</li>
          ))}
        </ul>
      </div>
    ))}
  </div>

  <!-- Status -->
  <h2>// Project Status</h2>
  <div class="status-block">
    <div class="status-indicator complete">
      <div class="status-pulse"></div>
      <span>Complete</span>
    </div>
    <ul class="status-list">
      <li><span class="check">&#10003;</span> Multi-format Fortinet log parsing</li>
      <li><span class="check">&#10003;</span> Cross-version field normalization</li>
      <li><span class="check">&#10003;</span> Statistical pattern detection with Pandas</li>
      <li><span class="check">&#10003;</span> Interactive zoomable timeline view</li>
      <li><span class="check">&#10003;</span> Geo-IP enrichment for source/destination</li>
      <li><span class="check">&#10003;</span> Docker Compose deployment</li>
    </ul>
  </div>
</ProjectLayout>

<style>
  .section-intro { opacity: 0.85; margin-bottom: 1.5rem; }

  .stack-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .stack-card { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-left: 3px solid var(--accent); border-radius: 4px; padding: 1rem; animation: fadeSlideIn 0.5s ease-out both; animation-delay: var(--delay); }
  @keyframes fadeSlideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  .stack-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; }
  .stack-indicator { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; animation: pulse 2s ease-in-out infinite; }
  @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(0.8); } }
  .stack-name { font-family: "IBM Plex Mono", monospace; font-size: 1rem; font-weight: 600; }
  .stack-role { font-family: "IBM Plex Mono", monospace; font-size: 0.75rem; color: var(--accent); margin-bottom: 0.75rem; }
  .stack-purpose { font-size: 0.8rem; opacity: 0.75; margin: 0; line-height: 1.5; }

  .highlights-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .highlight-card { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-radius: 8px; overflow: hidden; animation: fadeSlideIn 0.5s ease-out both; animation-delay: var(--delay); }
  .highlight-header { display: flex; flex-direction: column; gap: 0.25rem; padding: 1rem; background: color-mix(in srgb, currentColor 3%, transparent); border-bottom: 1px solid color-mix(in srgb, currentColor 8%, transparent); }
  .highlight-category { font-family: "IBM Plex Mono", monospace; font-size: 0.65rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: #10b981; }
  .highlight-title { font-family: "IBM Plex Mono", monospace; font-size: 0.9rem; font-weight: 600; }
  .highlight-body { padding: 1rem; }
  .highlight-row { display: flex; flex-direction: column; gap: 0.25rem; margin-bottom: 0.75rem; }
  .highlight-row:last-child { margin-bottom: 0; }
  .highlight-row .row-label { font-family: "IBM Plex Mono", monospace; font-size: 0.7rem; font-weight: 600; color: #10b981; }
  .highlight-row .row-value { font-size: 0.8rem; opacity: 0.8; line-height: 1.5; }
  .highlight-row.impact .row-value { color: #10b981; font-weight: 500; opacity: 1; }

  .skills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .skill-card { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-radius: 6px; overflow: hidden; }
  .skill-header { padding: 0.75rem 1rem; background: color-mix(in srgb, currentColor 3%, transparent); border-bottom: 1px solid color-mix(in srgb, currentColor 8%, transparent); }
  .skill-name { font-family: "IBM Plex Mono", monospace; font-size: 0.85rem; font-weight: 600; }
  .skill-items { list-style: none; padding: 0.75rem 1rem; margin: 0; }
  .skill-items li { font-size: 0.75rem; padding: 0.3rem 0; padding-left: 1rem; position: relative; opacity: 0.75; }
  .skill-items li::before { content: ">"; position: absolute; left: 0; color: #10b981; font-family: "IBM Plex Mono", monospace; }

  .status-block { background: color-mix(in srgb, currentColor 3%, transparent); border: 1px solid color-mix(in srgb, currentColor 10%, transparent); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; }
  .status-indicator { display: flex; align-items: center; gap: 0.75rem; font-family: "IBM Plex Mono", monospace; font-size: 0.9rem; font-weight: 500; margin-bottom: 1rem; }
  .status-indicator.complete .status-pulse { background: #10b981; box-shadow: 0 0 10px rgba(16, 185, 129, 0.5); }
  .status-pulse { width: 12px; height: 12px; border-radius: 50%; animation: pulse 2s ease-in-out infinite; }
  .status-list { list-style: none; padding: 0; margin: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 0.5rem; }
  .status-list li { display: flex; align-items: center; gap: 0.5rem; font-size: 0.8rem; padding: 0.5rem 0.75rem; background: color-mix(in srgb, currentColor 3%, transparent); border-radius: 4px; }
  .check { color: #10b981; font-weight: bold; }

  @media (max-width: 768px) { .highlights-grid, .stack-grid { grid-template-columns: 1fr; } }
</style>
