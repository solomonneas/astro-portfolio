---
import ProjectLayout from "../../layouts/ProjectLayout.astro";

const frontmatter = {
  title: "LAIM: Lab Asset Inventory Manager",
  status: "Active",
  statusType: "ongoing",
  origin: "Work Project",
  date: "2025.01",
  techStack: ["FastAPI", "PostgreSQL", "SQLAlchemy", "Docker", "Tailwind CSS", "JWT", "Python 3.12", "Netdisco", "LibreNMS"],
};

// Stack components
const stackComponents = [
  { name: "FastAPI", role: "Async Web Framework", purpose: "Modern Python framework with automatic OpenAPI docs, async/await support, and dependency injection", color: "#009688" },
  { name: "PostgreSQL", role: "Database", purpose: "Relational database with asyncpg driver for high-performance async queries", color: "#336791" },
  { name: "SQLAlchemy 2.0", role: "ORM & Migrations", purpose: "Async ORM with Alembic migrations for schema versioning and type-safe queries", color: "#d71f00" },
  { name: "Netdisco + LibreNMS", role: "Device Discovery", purpose: "Multi-source network discovery with intelligent merge logic for automated asset population", color: "#10b981" },
];

// Technical highlights
const highlights = [
  {
    category: "Architecture",
    title: "Async-First Design",
    scenario: "Legacy PHP used blocking I/O for database and external API calls",
    solution: "Built entirely on async/await from HTTP handling through database operations to external API integrations with connection pooling and retry logic",
    impact: "Non-blocking request handling with efficient resource utilization",
  },
  {
    category: "Integration",
    title: "Multi-Source Device Sync",
    scenario: "Manual data entry was tedious and error-prone for large device inventories",
    solution: "Integrated Netdisco and LibreNMS APIs with intelligent deduplication by serial → MAC → hostname+IP, scheduled via APScheduler every 6 hours",
    impact: "Automated device discovery eliminates manual entry for network-connected assets",
  },
  {
    category: "Security",
    title: "Role-Based Access Control",
    scenario: "Original system had basic session auth with no permission levels",
    solution: "JWT-based authentication with bcrypt password hashing, two-tier RBAC (superuser/admin), dependency injection for route protection",
    impact: "Granular access control with secure session management",
  },
  {
    category: "Operations",
    title: "Backup & Restore System",
    scenario: "No way to recover from accidental deletions or rollback changes",
    solution: "Point-in-time JSON snapshots with atomic restore operations that soft-delete current items and reactivate backup state",
    impact: "Full data recovery capability with audit trail",
  },
];

// Skills demonstrated
const skills = [
  { name: "Python & FastAPI", items: ["Async/await patterns", "Dependency injection", "Pydantic validation", "Background tasks"] },
  { name: "Database Design", items: ["SQLAlchemy ORM", "Alembic migrations", "Indexing strategy", "Soft deletes"] },
  { name: "API Integration", items: ["httpx async client", "Retry logic", "Rate limiting", "Data merging"] },
  { name: "Frontend", items: ["Jinja2 templating", "Tailwind CSS", "Dark/light mode", "Real-time search"] },
  { name: "DevOps", items: ["Docker Compose", "Health checks", "Environment config", "Non-root containers"] },
];

// Feature comparison
const legacyFeatures = [
  "PHP + MySQL + Nginx stack",
  "Table-based layouts, inline CSS",
  "window.open() popup forms",
  "Full page refresh for search",
  "Hardcoded categories (37 locations!)",
  "Manual registration via email",
  "Basic session auth, no RBAC",
  "No API, server-rendered only",
];

const modernFeatures = [
  "FastAPI + PostgreSQL + async",
  "Tailwind CSS, responsive design",
  "Modal dialogs, SPA-like UX",
  "Real-time client-side filtering",
  "Configurable via settings API",
  "Self-service registration with roles",
  "JWT auth with RBAC enforcement",
  "RESTful API with OpenAPI docs",
];
---

<ProjectLayout frontmatter={frontmatter}>
  <h2>// Overview</h2>
  <p>
    A complete rewrite of a legacy PHP inventory system I built as a college capstone project. LAIM transforms
    manual spreadsheet-based asset tracking into an automated, API-driven platform with multi-source device
    discovery, role-based access control, and modern deployment patterns.
  </p>
  <p>
    The original system was functional but showed its age -table-based layouts, popup windows, hardcoded
    dropdown values, and no API layer. LAIM addresses these limitations while adding capabilities that
    weren't feasible in the original architecture: automated device sync from Netdisco and LibreNMS,
    backup/restore functionality, and a proper separation of concerns.
  </p>

  <!-- GitHub Repo Link -->
  <div class="github-callout">
    <div class="github-content">
      <div class="github-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
        </svg>
      </div>
      <div class="github-text">
        <span class="github-label">Open Source</span>
        <p class="github-desc">This project is open source! Check out the code, fork it, or give it a star if you find it useful.</p>
      </div>
    </div>
    <div class="github-actions">
      <a href="https://github.com/solomonneas/laim" target="_blank" class="github-link repo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
        </svg>
        <span>View Repository</span>
      </a>
      <a href="https://github.com/solomonneas/laim/commits" target="_blank" class="github-link commits">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16">
          <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"/>
        </svg>
        <span>43 Commits</span>
      </a>
      <a href="https://github.com/solomonneas/laim/stargazers" target="_blank" class="github-link star">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16">
          <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"/>
        </svg>
        <span>Star on GitHub</span>
      </a>
    </div>
  </div>

  <!-- Before/After Comparison -->
  <h2>// The Transformation</h2>
  <div class="transformation-grid">
    <div class="transform-card before">
      <div class="transform-header">
        <span class="transform-icon">&#128683;</span>
        <span class="transform-label">BEFORE: PHP Capstone (2024)</span>
      </div>
      <ul class="transform-list">
        {legacyFeatures.map((feature) => (
          <li>{feature}</li>
        ))}
      </ul>
    </div>
    <div class="transform-arrow">&#8594;</div>
    <div class="transform-card after">
      <div class="transform-header">
        <span class="transform-icon">&#9989;</span>
        <span class="transform-label">AFTER: LAIM (2025)</span>
      </div>
      <ul class="transform-list">
        {modernFeatures.map((feature) => (
          <li>{feature}</li>
        ))}
      </ul>
    </div>
  </div>

  <!-- Tech Stack -->
  <h2>// Tech Stack</h2>
  <p class="section-intro">
    Modern async Python stack with external integrations for automated device discovery:
  </p>

  <div class="stack-grid">
    {stackComponents.map((comp, i) => (
      <div class="stack-card" style={`--accent: ${comp.color}; --delay: ${i * 0.1}s`}>
        <div class="stack-header">
          <span class="stack-indicator"></span>
          <span class="stack-name">{comp.name}</span>
        </div>
        <div class="stack-role">{comp.role}</div>
        <p class="stack-purpose">{comp.purpose}</p>
      </div>
    ))}
  </div>

  <!-- Architecture Diagram -->
  <h2>// System Architecture</h2>
  <div class="architecture-diagram">
    <div class="arch-layer collectors">
      <span class="layer-label">EXTERNAL SOURCES</span>
      <div class="collector-grid">
        <div class="arch-node">
          <span class="node-icon">&#128225;</span>
          <span class="node-label">Netdisco</span>
          <span class="node-sub">L2/L3 Discovery</span>
        </div>
        <div class="arch-node">
          <span class="node-icon">&#128202;</span>
          <span class="node-label">LibreNMS</span>
          <span class="node-sub">SNMP Monitoring</span>
        </div>
        <div class="arch-node">
          <span class="node-icon">&#128196;</span>
          <span class="node-label">CSV Import</span>
          <span class="node-sub">Bulk Upload</span>
        </div>
      </div>
    </div>

    <div class="arch-connector-vertical">
      <div class="connector-line">
        <div class="connector-particle"></div>
      </div>
      <span class="connector-label">Sync / Import</span>
    </div>

    <div class="arch-layer processing">
      <span class="layer-label">APPLICATION LAYER</span>
      <div class="processing-grid">
        <div class="arch-node fastapi-node">
          <div class="node-pulse"></div>
          <span class="node-label">FastAPI</span>
          <span class="node-sub">Async Routes + Auth</span>
        </div>
        <div class="arch-node sqlalchemy-node">
          <div class="node-pulse"></div>
          <span class="node-label">SQLAlchemy</span>
          <span class="node-sub">Async ORM</span>
        </div>
        <div class="arch-node scheduler-node">
          <div class="node-pulse"></div>
          <span class="node-label">APScheduler</span>
          <span class="node-sub">Background Jobs</span>
        </div>
      </div>
    </div>

    <div class="arch-connector-vertical">
      <div class="connector-line">
        <div class="connector-particle"></div>
      </div>
      <span class="connector-label">Async Queries</span>
    </div>

    <div class="arch-layer presentation">
      <span class="layer-label">DATA LAYER</span>
      <div class="presentation-items">
        <span class="present-item">PostgreSQL</span>
        <span class="present-item">Inventory Items</span>
        <span class="present-item">Users & Roles</span>
        <span class="present-item">Backups</span>
        <span class="present-item">Sync Logs</span>
      </div>
    </div>
  </div>

  <!-- Technical Implementation -->
  <h2>// Technical Implementation</h2>

  <div class="impl-section">
    <h3 class="impl-title">
      <span class="impl-num">01</span>
      Async Database Operations
    </h3>
    <div class="impl-content">
      <div class="impl-block">
        <h4>Session Management</h4>
        <div class="code-block">
          <code>from sqlalchemy.ext.asyncio import AsyncSession</code>
          <code>from sqlalchemy.ext.asyncio import create_async_engine</code>
          <code></code>
          <code>engine = create_async_engine(</code>
          <code>    DATABASE_URL,</code>
          <code>    pool_size=10,</code>
          <code>    max_overflow=20</code>
          <code>)</code>
          <code></code>
          <code>async def get_db() -> AsyncGenerator:</code>
          <code>    async with AsyncSession(engine) as session:</code>
          <code>        yield session</code>
        </div>
      </div>
      <div class="impl-block">
        <h4>Route with Dependency Injection</h4>
        <div class="code-block">
          <code>@app.get("/api/items")</code>
          <code>async def list_items(</code>
          <code>    db: AsyncSession = Depends(get_db),</code>
          <code>    user: User = Depends(get_current_user),</code>
          <code>    search: str = None,</code>
          <code>    item_type: ItemType = None</code>
          <code>):</code>
          <code>    query = select(InventoryItem)</code>
          <code>        .where(InventoryItem.is_active == True)</code>
          <code>    if search:</code>
          <code>        query = query.where(</code>
          <code>            InventoryItem.hostname.ilike(f"%{'{'}search{'}'}%")</code>
          <code>        )</code>
          <code>    return await db.execute(query)</code>
        </div>
      </div>
    </div>
  </div>

  <div class="impl-section">
    <h3 class="impl-title">
      <span class="impl-num">02</span>
      Multi-Source Device Sync
    </h3>
    <div class="impl-content">
      <div class="impl-block">
        <h4>Deduplication Strategy</h4>
        <div class="code-block">
          <code># Priority: serial_number > mac_address > hostname+ip</code>
          <code>def merge_devices(netdisco: list, librenms: list):</code>
          <code>    merged = {`{}`}</code>
          <code>    </code>
          <code>    for device in netdisco + librenms:</code>
          <code>        key = (</code>
          <code>            device.serial_number or</code>
          <code>            device.mac_address or</code>
          <code>            f"{`{device.hostname}`}:{`{device.ip}`}"</code>
          <code>        )</code>
          <code>        if key in merged:</code>
          <code>            # LibreNMS has higher data quality</code>
          <code>            merged[key].update(device)</code>
          <code>        else:</code>
          <code>            merged[key] = device</code>
          <code>    </code>
          <code>    return list(merged.values())</code>
        </div>
      </div>
      <div class="impl-block">
        <h4>Scheduled Sync</h4>
        <div class="code-block">
          <code>from apscheduler.schedulers.asyncio import</code>
          <code>    AsyncIOScheduler</code>
          <code></code>
          <code>scheduler = AsyncIOScheduler()</code>
          <code></code>
          <code>@scheduler.scheduled_job(</code>
          <code>    'interval',</code>
          <code>    hours=SYNC_INTERVAL_HOURS</code>
          <code>)</code>
          <code>async def scheduled_sync():</code>
          <code>    async with AsyncSession(engine) as db:</code>
          <code>        await sync_service.sync_all(db)</code>
        </div>
      </div>
    </div>
    <p class="impl-note">
      Device sync fetches from both Netdisco (L2/L3 topology) and LibreNMS (SNMP data), then merges
      by serial number, MAC address, or hostname+IP to prevent duplicates while preserving the
      highest-quality data from each source.
    </p>
  </div>

  <div class="impl-section">
    <h3 class="impl-title">
      <span class="impl-num">03</span>
      JWT Authentication & RBAC
    </h3>
    <div class="impl-content">
      <div class="impl-block">
        <h4>Token Generation</h4>
        <div class="code-block">
          <code>from jose import jwt</code>
          <code>from passlib.context import CryptContext</code>
          <code></code>
          <code>pwd_context = CryptContext(schemes=["bcrypt"])</code>
          <code></code>
          <code>def create_access_token(user_id: int) -> str:</code>
          <code>    expire = datetime.utcnow() + timedelta(hours=8)</code>
          <code>    return jwt.encode(</code>
          <code>        {`{"sub": str(user_id), "exp": expire}`},</code>
          <code>        SECRET_KEY,</code>
          <code>        algorithm="HS256"</code>
          <code>    )</code>
        </div>
      </div>
      <div class="impl-block">
        <h4>Role Enforcement</h4>
        <div class="code-block">
          <code>class UserRole(str, Enum):</code>
          <code>    SUPERUSER = "superuser"</code>
          <code>    ADMIN = "admin"</code>
          <code></code>
          <code>def require_admin(user = Depends(get_current_user)):</code>
          <code>    if user.role not in [Role.ADMIN, Role.SUPERUSER]:</code>
          <code>        raise HTTPException(403, "Admin required")</code>
          <code>    return user</code>
          <code></code>
          <code>@app.post("/api/items")</code>
          <code>async def create_item(</code>
          <code>    data: ItemCreate,</code>
          <code>    user: User = Depends(require_admin)</code>
          <code>):</code>
          <code>    ...</code>
        </div>
      </div>
    </div>
  </div>

  <!-- Case Studies -->
  <h2>// Technical Highlights</h2>
  <div class="highlights-grid">
    {highlights.map((item, i) => (
      <div class="highlight-card" style={`--delay: ${i * 0.1}s`}>
        <div class="highlight-header">
          <span class="highlight-category">{item.category}</span>
          <span class="highlight-title">{item.title}</span>
        </div>
        <div class="highlight-body">
          <div class="highlight-row">
            <span class="row-label">Problem:</span>
            <span class="row-value">{item.scenario}</span>
          </div>
          <div class="highlight-row">
            <span class="row-label">Solution:</span>
            <span class="row-value">{item.solution}</span>
          </div>
          <div class="highlight-row impact">
            <span class="row-label">Result:</span>
            <span class="row-value">{item.impact}</span>
          </div>
        </div>
      </div>
    ))}
  </div>

  <!-- Skills Matrix -->
  <h2>// Skills Demonstrated</h2>
  <div class="skills-grid">
    {skills.map((skill) => (
      <div class="skill-card">
        <div class="skill-header">
          <span class="skill-name">{skill.name}</span>
        </div>
        <ul class="skill-items">
          {skill.items.map((item) => (
            <li>{item}</li>
          ))}
        </ul>
      </div>
    ))}
  </div>

  <!-- Deployment Notes -->
  <h2>// Deployment</h2>
  <div class="notes-grid">
    <div class="note-card">
      <div class="note-header">
        <span class="note-icon">&#128051;</span>
        <span class="note-title">Docker Compose</span>
      </div>
      <p>Single-command deployment with PostgreSQL and FastAPI services, health checks, and named volumes for data persistence.</p>
    </div>

    <div class="note-card">
      <div class="note-header">
        <span class="note-icon">&#128274;</span>
        <span class="note-title">Security</span>
      </div>
      <p>Non-root container user, HttpOnly JWT cookies, bcrypt password hashing, and environment-based secrets management.</p>
    </div>

    <div class="note-card">
      <div class="note-header">
        <span class="note-icon">&#128295;</span>
        <span class="note-title">Configuration</span>
      </div>
      <p>Environment variables for all settings: database URL, API tokens, sync intervals, room locations, and excluded IP ranges.</p>
    </div>

    <div class="note-card">
      <div class="note-header">
        <span class="note-icon">&#128193;</span>
        <span class="note-title">Migrations</span>
      </div>
      <p>Alembic-managed schema with versioned migrations. Current schema at version 006 with full upgrade/downgrade paths.</p>
    </div>
  </div>

  <!-- Status -->
  <h2>// Project Status</h2>
  <div class="status-block">
    <div class="status-indicator ongoing">
      <div class="status-pulse"></div>
      <span>Active development</span>
    </div>
    <ul class="status-list">
      <li><span class="check">&#10003;</span> Core CRUD operations functional</li>
      <li><span class="check">&#10003;</span> JWT authentication with RBAC</li>
      <li><span class="check">&#10003;</span> Netdisco + LibreNMS sync integration</li>
      <li><span class="check">&#10003;</span> Backup/restore system operational</li>
      <li><span class="check">&#10003;</span> Docker deployment configured</li>
      <li><span class="check">&#10003;</span> Dark/light mode with real-time search</li>
    </ul>
  </div>
</ProjectLayout>

<style>
  /* Section Intro */
  .section-intro {
    opacity: 0.85;
    margin-bottom: 1.5rem;
  }

  /* Transformation Grid */
  .transformation-grid {
    display: flex;
    align-items: stretch;
    gap: 1rem;
    margin: 1.5rem 0;
    flex-wrap: wrap;
    justify-content: center;
  }

  .transform-card {
    flex: 1;
    min-width: 250px;
    max-width: 350px;
    background: color-mix(in srgb, currentColor 3%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-radius: 8px;
    overflow: hidden;
  }

  .transform-card.before {
    border-top: 3px solid #ef4444;
  }

  .transform-card.after {
    border-top: 3px solid #10b981;
  }

  .transform-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: color-mix(in srgb, currentColor 3%, transparent);
    border-bottom: 1px solid color-mix(in srgb, currentColor 8%, transparent);
  }

  .transform-icon {
    font-size: 1.25rem;
  }

  .transform-label {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.05em;
  }

  .transform-card.before .transform-label { color: #ef4444; }
  .transform-card.after .transform-label { color: #10b981; }

  .transform-list {
    list-style: none;
    padding: 1rem;
    margin: 0;
  }

  .transform-list li {
    font-size: 0.8rem;
    padding: 0.4rem 0;
    padding-left: 1.25rem;
    position: relative;
    opacity: 0.8;
    border-bottom: 1px dotted color-mix(in srgb, currentColor 8%, transparent);
  }

  .transform-list li:last-child {
    border-bottom: none;
  }

  .transform-card.before .transform-list li::before {
    content: "×";
    position: absolute;
    left: 0;
    color: #ef4444;
    font-weight: bold;
  }

  .transform-card.after .transform-list li::before {
    content: "✓";
    position: absolute;
    left: 0;
    color: #10b981;
    font-weight: bold;
  }

  .transform-arrow {
    display: flex;
    align-items: center;
    font-size: 2rem;
    color: #10b981;
    opacity: 0.6;
  }

  /* Stack Grid */
  .stack-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .stack-card {
    background: color-mix(in srgb, currentColor 3%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-left: 3px solid var(--accent);
    border-radius: 4px;
    padding: 1rem;
    animation: fadeSlideIn 0.5s ease-out both;
    animation-delay: var(--delay);
  }

  @keyframes fadeSlideIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .stack-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
  }

  .stack-indicator {
    width: 8px;
    height: 8px;
    background: var(--accent);
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.8); }
  }

  .stack-name {
    font-family: "IBM Plex Mono", monospace;
    font-size: 1rem;
    font-weight: 600;
  }

  .stack-role {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.75rem;
    color: var(--accent);
    margin-bottom: 0.75rem;
  }

  .stack-purpose {
    font-size: 0.8rem;
    opacity: 0.75;
    margin: 0;
    line-height: 1.5;
  }

  /* Architecture Diagram */
  .architecture-diagram {
    background: color-mix(in srgb, currentColor 3%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-radius: 8px;
    padding: 2rem;
    margin: 1.5rem 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
  }

  .arch-layer {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
  }

  .layer-label {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.65rem;
    letter-spacing: 0.15em;
    opacity: 0.5;
    text-transform: uppercase;
  }

  .collector-grid, .processing-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
  }

  .arch-node {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
    padding: 0.75rem 1.25rem;
    background: color-mix(in srgb, currentColor 5%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 15%, transparent);
    border-radius: 6px;
    min-width: 100px;
    text-align: center;
    position: relative;
  }

  .node-icon {
    font-size: 1.25rem;
    opacity: 0.8;
  }

  .node-label {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.8rem;
    font-weight: 600;
  }

  .node-sub {
    font-size: 0.65rem;
    opacity: 0.6;
  }

  .node-pulse {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 8px;
    height: 8px;
    background: #10b981;
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
  }

  .fastapi-node { border-color: color-mix(in srgb, #009688 40%, transparent); }
  .sqlalchemy-node { border-color: color-mix(in srgb, #d71f00 40%, transparent); }
  .scheduler-node { border-color: color-mix(in srgb, #8b5cf6 40%, transparent); }

  .arch-connector-vertical {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
  }

  .connector-line {
    width: 2px;
    height: 30px;
    background: color-mix(in srgb, currentColor 20%, transparent);
    position: relative;
    overflow: hidden;
  }

  .connector-particle {
    position: absolute;
    width: 2px;
    height: 10px;
    background: #10b981;
    animation: flowDown 1.5s ease-in-out infinite;
  }

  @keyframes flowDown {
    0% { top: -10px; }
    100% { top: 30px; }
  }

  .connector-label {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.6rem;
    color: #10b981;
  }

  .presentation-items {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.5rem;
  }

  .present-item {
    padding: 0.4rem 0.8rem;
    background: color-mix(in srgb, #10b981 10%, transparent);
    border: 1px solid color-mix(in srgb, #10b981 30%, transparent);
    border-radius: 4px;
    font-size: 0.75rem;
    color: #10b981;
  }

  /* Implementation Sections */
  .impl-section {
    background: color-mix(in srgb, currentColor 3%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1rem 0;
  }

  .impl-title {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-family: "IBM Plex Mono", monospace;
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 1rem 0;
    color: currentColor;
  }

  .impl-num {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: color-mix(in srgb, #10b981 15%, transparent);
    border: 1px solid #10b981;
    border-radius: 50%;
    font-size: 0.75rem;
    color: #10b981;
  }

  .impl-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1rem;
  }

  .impl-block h4 {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.8rem;
    color: #10b981;
    margin: 0 0 0.5rem 0;
  }

  .code-block {
    background: color-mix(in srgb, currentColor 5%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-radius: 4px;
    padding: 0.75rem;
    overflow-x: auto;
  }

  .code-block code {
    display: block;
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.7rem;
    line-height: 1.6;
    opacity: 0.85;
  }

  .code-block code:empty {
    height: 0.5rem;
  }

  .impl-note {
    font-size: 0.8rem;
    opacity: 0.75;
    margin: 1rem 0 0 0;
    padding: 0.75rem;
    background: color-mix(in srgb, currentColor 3%, transparent);
    border-left: 2px solid #10b981;
    line-height: 1.6;
  }

  /* Highlights Grid */
  .highlights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .highlight-card {
    background: color-mix(in srgb, currentColor 3%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-radius: 8px;
    overflow: hidden;
    animation: fadeSlideIn 0.5s ease-out both;
    animation-delay: var(--delay);
  }

  .highlight-header {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    padding: 1rem;
    background: color-mix(in srgb, currentColor 3%, transparent);
    border-bottom: 1px solid color-mix(in srgb, currentColor 8%, transparent);
  }

  .highlight-category {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #10b981;
  }

  .highlight-title {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.9rem;
    font-weight: 600;
  }

  .highlight-body {
    padding: 1rem;
  }

  .highlight-row {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    margin-bottom: 0.75rem;
  }

  .highlight-row:last-child {
    margin-bottom: 0;
  }

  .highlight-row .row-label {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.7rem;
    font-weight: 600;
    color: #10b981;
  }

  .highlight-row .row-value {
    font-size: 0.8rem;
    opacity: 0.8;
    line-height: 1.5;
  }

  .highlight-row.impact .row-value {
    color: #10b981;
    font-weight: 500;
    opacity: 1;
  }

  /* Skills Grid */
  .skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .skill-card {
    background: color-mix(in srgb, currentColor 3%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-radius: 6px;
    overflow: hidden;
  }

  .skill-header {
    padding: 0.75rem 1rem;
    background: color-mix(in srgb, currentColor 3%, transparent);
    border-bottom: 1px solid color-mix(in srgb, currentColor 8%, transparent);
  }

  .skill-name {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .skill-items {
    list-style: none;
    padding: 0.75rem 1rem;
    margin: 0;
  }

  .skill-items li {
    font-size: 0.75rem;
    padding: 0.3rem 0;
    padding-left: 1rem;
    position: relative;
    opacity: 0.75;
  }

  .skill-items li::before {
    content: ">";
    position: absolute;
    left: 0;
    color: #10b981;
    font-family: "IBM Plex Mono", monospace;
  }

  /* Notes Grid */
  .notes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .note-card {
    background: color-mix(in srgb, currentColor 3%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-radius: 6px;
    padding: 1rem;
  }

  .note-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
  }

  .note-icon {
    font-size: 1.25rem;
    opacity: 0.7;
  }

  .note-title {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .note-card p {
    font-size: 0.8rem;
    opacity: 0.75;
    margin: 0;
    line-height: 1.5;
  }

  /* GitHub Callout */
  .github-callout {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1.25rem;
    margin: 1.5rem 0;
    background: color-mix(in srgb, currentColor 3%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-left: 3px solid #6e5494;
    border-radius: 6px;
  }

  .github-content {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
  }

  .github-icon {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    padding: 6px;
    background: color-mix(in srgb, #6e5494 15%, transparent);
    border-radius: 6px;
    color: #6e5494;
  }

  .github-icon svg {
    width: 100%;
    height: 100%;
  }

  .github-text {
    flex: 1;
  }

  .github-label {
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.85rem;
    font-weight: 600;
    color: #6e5494;
  }

  .github-desc {
    font-size: 0.8rem;
    opacity: 0.75;
    margin: 0.25rem 0 0 0;
    line-height: 1.5;
  }

  .github-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .github-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.75rem;
    font-weight: 500;
    text-decoration: none;
    border-radius: 4px;
    transition: all 0.2s ease;
  }

  .github-link.repo {
    background: color-mix(in srgb, currentColor 5%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 15%, transparent);
    color: currentColor;
  }

  .github-link.repo:hover {
    background: color-mix(in srgb, currentColor 10%, transparent);
    border-color: color-mix(in srgb, currentColor 25%, transparent);
  }

  .github-link.star {
    background: color-mix(in srgb, #f59e0b 15%, transparent);
    border: 1px solid color-mix(in srgb, #f59e0b 30%, transparent);
    color: #f59e0b;
  }

  .github-link.star:hover {
    background: color-mix(in srgb, #f59e0b 25%, transparent);
    border-color: #f59e0b;
  }

  .github-link.commits {
    background: color-mix(in srgb, #10b981 15%, transparent);
    border: 1px solid color-mix(in srgb, #10b981 30%, transparent);
    color: #10b981;
  }

  .github-link.commits:hover {
    background: color-mix(in srgb, #10b981 25%, transparent);
    border-color: #10b981;
  }

  .github-link svg {
    flex-shrink: 0;
  }

  /* Status Block */
  .status-block {
    background: color-mix(in srgb, currentColor 3%, transparent);
    border: 1px solid color-mix(in srgb, currentColor 10%, transparent);
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1.5rem 0;
  }

  .status-indicator {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-family: "IBM Plex Mono", monospace;
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 1rem;
  }

  .status-indicator.ongoing .status-pulse {
    background: #3b82f6;
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
  }

  .status-pulse {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
  }

  .status-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 0.5rem;
  }

  .status-list li {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem;
    padding: 0.5rem 0.75rem;
    background: color-mix(in srgb, currentColor 3%, transparent);
    border-radius: 4px;
  }

  .check {
    color: #10b981;
    font-weight: bold;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .transformation-grid {
      flex-direction: column;
    }

    .transform-arrow {
      transform: rotate(90deg);
    }

    .transform-card {
      max-width: none;
    }

    .architecture-diagram {
      padding: 1rem;
    }

    .collector-grid, .processing-grid {
      flex-direction: column;
    }

    .impl-content {
      grid-template-columns: 1fr;
    }
  }
</style>
